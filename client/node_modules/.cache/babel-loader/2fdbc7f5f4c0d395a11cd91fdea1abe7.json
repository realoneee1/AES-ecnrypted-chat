{"ast":null,"code":"var _jsxFileName = \"D:\\\\messebger\\\\EnctyptedAESChat\\\\client\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Alert, Button, Container, Form, Tabs, Tab } from 'react-bootstrap';\nimport { v4 as uuidV4 } from 'uuid';\nimport axios from 'axios';\nimport { useTheme } from '../contexts/ThemeProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  setLoginId,\n  setUserName\n}) {\n  _s();\n\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const passwRef = useRef();\n  const email2Ref = useRef();\n  const passw2Ref = useRef();\n  const {\n    isLightTheme\n  } = useTheme();\n  const [type, setType] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [language, setLanguage] = useState('en');\n  useEffect(() => {\n    setLanguage(localStorage.getItem('lang'));\n  }, []);\n\n  function handleLoginSubmit(e) {\n    e.preventDefault();\n    let payload = {\n      email: emailRef.current.value,\n      password: passwRef.current.value\n    };\n    axios({\n      url: \"http://localhost:5000/users/login\",\n      method: \"POST\",\n      data: payload\n    }).then(res => {\n      setType(\"success\");\n      setMessage(\"Login Successfull\");\n      setShow(true);\n      setLoginId(res.data.id);\n      setUserName(res.data.fname);\n    }).catch(() => {\n      setType(\"danger\");\n      setMessage(\"Couldn't Login\");\n      setShow(true);\n    });\n  }\n\n  function handleRegisterSubmit() {\n    let payload = {\n      fname: nameRef.current.value,\n      email: email2Ref.current.value,\n      password: passw2Ref.current.value,\n      id: uuidV4()\n    };\n    axios({\n      url: \"http://localhost:5000/users/register\",\n      method: \"POST\",\n      data: payload\n    }).then(() => {\n      setType(\"success\");\n      setMessage(\"Registration Successfull\");\n      setShow(true);\n    }).catch(() => {\n      setType(\"danger\");\n      setMessage(\"Couldn't Register\");\n      setShow(true);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: isLightTheme ? \"bag-light\" : \"bag-dark\",\n    style: {\n      height: '88.6vh',\n      width: '100%',\n      padding: '100px 0 0 0',\n      fontFamily: 'Montserrat'\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        maxWidth: '300px',\n        padding: '10px',\n        boxShadow: \" 0px 0px 35px 0px rgba(0,0,0,0.75)\"\n      },\n      children: [show ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: type,\n        onClose: () => setShow(false),\n        dismissible: true,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(Tabs, {\n        variant: \"pills\",\n        defaultActiveKey: \"login\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"login\",\n          title: language === ua ? \"логін\" : \"Login\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleLoginSubmit,\n            className: \"w-100\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: language === 'ua' ? 'Електронна Пошта' : 'Email'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Ex: nikita@gmail.com\",\n                name: \"email\",\n                ref: emailRef,\n                autoComplete: \"username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: language === 'ua' ? 'Пароль' : 'Password'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                placeholder: \"************\",\n                name: \"password\",\n                ref: passwRef,\n                autoComplete: \"current-password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2 mb-0 text-right\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                type: \"submit\",\n                children: language === 'ua' ? 'Вхід' : 'Login'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"register\",\n          title: \"Register\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"w-100\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: language === 'ua' ? 'Повне І\\'мя' : 'Full Name'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Ex: Nikita Malik\",\n                name: \"email\",\n                ref: nameRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: language === 'ua' ? 'Електронна Пошта' : 'Email'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Ex: nikita@gmail.com\",\n                name: \"email\",\n                ref: email2Ref,\n                autoComplete: \"username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: language === 'ua' ? 'Пароль' : 'Password'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                placeholder: \"************\",\n                name: \"password\",\n                ref: passw2Ref,\n                autoComplete: \"current-password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2 mb-0 text-right\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: handleRegisterSubmit,\n                children: language === 'ua' ? 'Реєстрація' : 'Register'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"6OXDN31KI+ANXJnVDAxmiNrUVa8=\", false, function () {\n  return [useTheme];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/messebger/EnctyptedAESChat/client/src/components/Login.js"],"names":["React","useRef","useState","useEffect","Alert","Button","Container","Form","Tabs","Tab","v4","uuidV4","axios","useTheme","Login","setLoginId","setUserName","nameRef","emailRef","passwRef","email2Ref","passw2Ref","isLightTheme","type","setType","message","setMessage","show","setShow","language","setLanguage","localStorage","getItem","handleLoginSubmit","e","preventDefault","payload","email","current","value","password","url","method","data","then","res","id","fname","catch","handleRegisterSubmit","height","width","padding","fontFamily","maxWidth","boxShadow","marginBottom","ua"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport { Alert, Button, Container, Form, Tabs, Tab } from 'react-bootstrap'\r\nimport { v4 as uuidV4 } from 'uuid'\r\nimport axios from 'axios'\r\n\r\nimport { useTheme } from '../contexts/ThemeProvider'\r\n\r\nexport default function Login({ setLoginId, setUserName }) {\r\n    const nameRef = useRef()\r\n    const emailRef = useRef()\r\n    const passwRef = useRef()\r\n    const email2Ref = useRef()\r\n    const passw2Ref = useRef()\r\n\r\n    \r\n    const { isLightTheme } = useTheme();\r\n\r\n    const [type, setType] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [show, setShow] = useState(false)\r\n    const [language, setLanguage] = useState('en')\r\n\r\n    useEffect(() => {\r\n        setLanguage(localStorage.getItem('lang'));\r\n      }, []);\r\n\r\n    function handleLoginSubmit(e) {\r\n        e.preventDefault()\r\n        let payload = {\r\n            email: emailRef.current.value,\r\n            password: passwRef.current.value,\r\n        }\r\n        axios({\r\n            url: \"http://localhost:5000/users/login\",\r\n            method: \"POST\",\r\n            data: payload\r\n        })\r\n            .then(res => {\r\n                setType(\"success\")\r\n                setMessage(\"Login Successfull\")\r\n                setShow(true)\r\n                setLoginId(res.data.id)\r\n                setUserName(res.data.fname)\r\n            })\r\n            .catch(() => {\r\n                setType(\"danger\")\r\n                setMessage(\"Couldn't Login\")\r\n                setShow(true)\r\n            })\r\n    }\r\n\r\n    function handleRegisterSubmit() {\r\n        let payload = {\r\n            fname: nameRef.current.value,\r\n            email: email2Ref.current.value,\r\n            password: passw2Ref.current.value,\r\n            id: uuidV4()\r\n        }\r\n\r\n        axios({\r\n            url: \"http://localhost:5000/users/register\",\r\n            method: \"POST\",\r\n            data: payload\r\n        })\r\n            .then(() => {\r\n                setType(\"success\")\r\n                setMessage(\"Registration Successfull\")\r\n                setShow(true)\r\n            })\r\n            .catch(() => {\r\n                setType(\"danger\")\r\n                setMessage(\"Couldn't Register\")\r\n                setShow(true)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container fluid className={isLightTheme ? \"bag-light\": \"bag-dark\"} style={{ height: '88.6vh', width: '100%', padding: '100px 0 0 0', fontFamily: 'Montserrat' }}> \r\n            <Container style={{maxWidth: '300px', padding: '10px', boxShadow: \" 0px 0px 35px 0px rgba(0,0,0,0.75)\" }}>\r\n                {show ? <Alert variant={type} onClose={() => setShow(false)} dismissible>{message}</Alert> : null}\r\n                <Tabs variant=\"pills\" defaultActiveKey=\"login\" style={{ marginBottom: '20px' }}>\r\n                    <Tab eventKey=\"login\" title={language === ua ? \"логін\": \"Login\"}>\r\n                        <Form onSubmit={handleLoginSubmit} className=\"w-100\">\r\n                            <Form.Group>\r\n                                <Form.Label>{language === 'ua' ? 'Електронна Пошта' : 'Email'}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ex: nikita@gmail.com\"\r\n                                    name=\"email\"\r\n                                    ref={emailRef}\r\n                                    autoComplete=\"username\"\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group>\r\n                                <Form.Label>{language === 'ua' ? 'Пароль' : 'Password'}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    placeholder=\"************\"\r\n                                    name=\"password\"\r\n                                    ref={passwRef}\r\n                                    autoComplete=\"current-password\"\r\n                                />\r\n                            </Form.Group>\r\n                            \r\n                            <Form.Group className=\"mt-2 mb-0 text-right\">\r\n                                <Button variant=\"primary\" type=\"submit\">\r\n                                {language === 'ua' ? 'Вхід' : 'Login'}\r\n                                </Button>\r\n                            </Form.Group>\r\n                        </Form>\r\n                    </Tab>\r\n                    <Tab eventKey=\"register\" title=\"Register\">\r\n                        <Form className=\"w-100\">\r\n                            <Form.Group>\r\n                                <Form.Label>{language === 'ua' ? 'Повне І\\'мя' : 'Full Name'}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ex: Nikita Malik\"\r\n                                    name=\"email\"\r\n                                    ref={nameRef}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group>\r\n                                <Form.Label>{language === 'ua' ? 'Електронна Пошта' : 'Email'}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ex: nikita@gmail.com\"\r\n                                    name=\"email\"\r\n                                    ref={email2Ref}\r\n                                    autoComplete=\"username\"\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group>\r\n                                <Form.Label>{language === 'ua' ? 'Пароль' : 'Password'}</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    placeholder=\"************\"\r\n                                    name=\"password\"\r\n                                    ref={passw2Ref}\r\n                                    autoComplete=\"current-password\"\r\n                                />\r\n                            </Form.Group>\r\n                            \r\n                            <Form.Group className=\"mt-2 mb-0 text-right\">\r\n                                <Button variant=\"primary\" onClick={handleRegisterSubmit}>\r\n                                {language === 'ua' ? 'Реєстрація' : 'Register'}\r\n                                </Button>\r\n                            </Form.Group>\r\n                        </Form>\r\n                    </Tab>\r\n                </Tabs>\r\n            </Container>\r\n        </Container>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}